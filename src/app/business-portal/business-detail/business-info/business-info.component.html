<div class="portal-business-info">
  <div class="info">
    <div class="info-body">
      <div class="label-featured" *ngIf="business.featured">Featured</div>
      <div class="info-box">
        <div class="info-title">
          {{business.name | capitalize}}
        </div>
        <div class="info-subtitle" *ngIf="isPhysical">
          {{business.city | capitalize}} <i *ngIf="business.state && business.city">,</i>
          {{business.state | shortenState}}
        </div>
      </div>

      <div class="info-content">
        <!-- CHECKINS AND RATING -->
        <div class="info-content__item">
          <div class="rating">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M4.9451 8.63941L7.19782 9.88731C7.7981 10.2198 8.37736 9.77699 8.26263 9.07215L7.8324 6.42904C7.83659 6.45474 7.84387 6.43118 7.82612 6.44942L9.64861 4.57756C10.1342 4.07876 9.91353 3.36143 9.24188 3.25859L6.72327 2.87297C6.74776 2.87672 6.72875 2.86214 6.73972 2.88556L5.61336 0.480782C5.31322 -0.160017 4.59755 -0.160504 4.29718 0.480782L3.17082 2.88556C3.18177 2.86218 3.16274 2.87672 3.18727 2.87297L0.668655 3.25859C-0.0024783 3.36135 -0.224073 4.07839 0.261933 4.57756L2.08442 6.44942C2.0667 6.43122 2.07395 6.45479 2.07814 6.42904L1.64791 9.07215C1.53326 9.77646 2.11198 10.2201 2.71272 9.88731L4.96544 8.63941C4.94353 8.65154 4.96705 8.65156 4.9451 8.63941Z"/>
            </svg>

            <span class="rate">{{(business.rating |  number:'1.1-1') || '-'}}</span>
          </div>
          <div class="info-content__item checkins">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M2.53385 4.38189C2.80783 4.15621 3.22289 4.18383 3.46092 4.44359L4.51852 5.59768L8.25747 0.275463C7.87502 0.0986513 7.44903 0 7 0H3C1.34315 0 0 1.34315 0 3V7C0 8.65685 1.34315 10 3 10H7C8.65685 10 10 8.65685 10 7V3C10 2.26166 9.73327 1.58561 9.29091 1.06296L4.69694 7.69231L2.46878 5.26085C2.23075 5.0011 2.25988 4.60757 2.53385 4.38189Z"/>
            </svg>

            <span class="rate">{{business.checkInsCount}} Check-ins</span>
          </div>
        </div>
        <!-- BUSINESS CATEGORIES -->
        <div class="info-content__item categories">
          <i class="pi pi-tag"></i>
          <p class="info-content__item-wrapper">
            <i class="info-content__item-category"
               *ngFor="let category of business.businessTypes; let last = last">
              {{category.code}}

              <i>,</i>
            </i>
          </p>
        </div>
        <!-- BUSINESS WORKING TIME -->
        <div class="info-content__item working-time" *ngIf="!isEmptyHours">
          <i class="pi pi-clock"></i>
          <span class="open" *ngIf="isOpen">Open Now</span>
          <span class="open" *ngIf="!isOpen">Closed Now</span>
          <span class="secondary" *ngIf="isOpen && endDate">&sdot; Closes: {{endDate | AMPM}}</span>
        </div>
        <!-- BUSINESS ACTIONS BLOCK -->
        <div class="actions">
          <a class="button" href="tel:{{business.phone | phoneNumberForCall:(phoneInfo$ | async)}}"
             *ngIf="business.phone">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M13.6861 11.0733L11.5241 8.9061C11.0934 8.47621 10.3803 8.48927 9.93461 8.9361L8.84534 10.0276C8.77653 9.98957 8.70529 9.94987 8.6304 9.90774C7.94254 9.52574 7.00109 9.00217 6.0104 8.00851C5.01678 7.01276 4.49391 6.06772 4.11161 5.37786C4.07127 5.30478 4.03262 5.23431 3.99445 5.16739L4.7255 4.43577L5.08492 4.07509C5.53125 3.62763 5.54356 2.91305 5.11392 2.48192L2.95184 0.314451C2.52219 -0.116083 1.80871 -0.103021 1.36238 0.344444L0.753032 0.95868L0.769684 0.975248C0.565361 1.23655 0.394623 1.53793 0.267564 1.86292C0.150441 2.17228 0.0775199 2.46748 0.0441767 2.76329C-0.241312 5.13542 0.840231 7.30337 3.7754 10.2452C7.8327 14.3114 11.1023 14.0043 11.2434 13.9893C11.5506 13.9525 11.845 13.8789 12.1442 13.7624C12.4657 13.6366 12.7662 13.4657 13.0267 13.2613L13.04 13.2732L13.6573 12.6673C14.1028 12.22 14.1156 11.5051 13.6861 11.0733Z"
                fill="#4B03BD"/>
            </svg>
            Call
          </a>
          <a class="button" [routerLink]="['check-in']"
             *ngIf="!business.userCheckedIn && (profile?.role !== UserRole.Business)">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M3.49988 6.05249C3.87831 5.74077 4.45161 5.77892 4.7804 6.1377L6.2412 7.7318L11.645 0.0397321C11.4964 0.0136186 11.3436 0 11.1875 0H2.625C1.17525 0 0 1.17525 0 2.625V11.1875C0 12.6372 1.17525 13.8125 2.625 13.8125H11.1875C12.6372 13.8125 13.8125 12.6372 13.8125 11.1875V2.625C13.8125 1.98321 13.5822 1.39522 13.1997 0.939167L6.48765 10.625L3.41001 7.26655C3.08122 6.90776 3.12146 6.36421 3.49988 6.05249Z"/>
            </svg>
            Check-in
          </a>
        </div>
        <!-- BUSINESS RATING AND SHARE BLOCK -->
        <div class="share-rate">
          <ngx-ui-loader [overlayColor]="'#fff'" [fgsColor]="'#823cf1'" [loaderId]="'rating'"
                         [fgsType]="'wandering-cubes'" [hasProgressBar]="false"
                         [fgsPosition]="'center-center'"></ngx-ui-loader>
          <div class="text" [hidden]="business.userRating">Share your experience to help others</div>
          <div class="stars">
            <span class="stars__item" [ngClass]="{'filled': business.userRating >= 1}" (click)="rate(1)">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15.2099 25.4799L15.2047 25.4893C15.1475 25.4635 15.0803 25.4461 15.0037 25.4456C14.9243 25.445 14.8546 25.4626 14.7954 25.4894L14.7902 25.4799L7.97102 29.2236C7.2122 29.6402 6.53537 29.5455 6.09024 29.2077C5.63937 28.8654 5.33317 28.2021 5.48175 27.2975L6.7841 19.3682L6.77374 19.3665C6.7785 19.309 6.77364 19.2463 6.75375 19.1808C6.7326 19.1112 6.69881 19.0529 6.65881 19.0053L6.66641 18.9979C6.66635 18.9978 6.6663 18.9977 6.66625 18.9977L1.14957 13.3823C0.528849 12.7504 0.395149 12.0259 0.572341 11.4569C0.748509 10.8912 1.25648 10.398 2.09909 10.2701L9.72266 9.11332C9.72283 9.1133 9.723 9.11327 9.72317 9.11325L9.72156 9.10263C9.78326 9.08838 9.84696 9.06127 9.90738 9.01606C9.96714 8.97134 10.0103 8.91897 10.0408 8.8658L10.0504 8.87034L13.46 1.65599C13.8472 0.836638 14.4581 0.499871 15.0002 0.5C15.5424 0.500129 16.1532 0.837318 16.5401 1.65599L19.9497 8.87033L19.9592 8.86582C19.9887 8.91715 20.0301 8.96788 20.0871 9.0118C20.1489 9.0594 20.2147 9.08784 20.2785 9.10258L20.2769 9.11325C20.2773 9.1133 20.2776 9.11335 20.2779 9.1134L27.901 10.2701C28.7443 10.3981 29.252 10.8915 29.4278 11.4572C29.6048 12.0264 29.4707 12.751 28.8505 13.3823L23.3337 18.9978L23.3413 19.0053C23.3026 19.0513 23.2696 19.1075 23.2483 19.1745C23.2268 19.242 23.2215 19.307 23.2264 19.3664L23.216 19.3682C23.2161 19.3686 23.2162 19.3691 23.2162 19.3696L24.5183 27.2975C24.667 28.2029 24.3605 28.8659 23.9096 29.2078C23.4643 29.5456 22.7873 29.6399 22.0291 29.2236L15.2103 25.4802C15.2102 25.4801 15.21 25.48 15.2099 25.4799Z"
                  stroke="#B4BCC5"/>
              </svg>
            </span>
            <span class="stars__item" [ngClass]="{'filled': business.userRating >= 2}" (click)="rate(2)">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15.2099 25.4799L15.2047 25.4893C15.1475 25.4635 15.0803 25.4461 15.0037 25.4456C14.9243 25.445 14.8546 25.4626 14.7954 25.4894L14.7902 25.4799L7.97102 29.2236C7.2122 29.6402 6.53537 29.5455 6.09024 29.2077C5.63937 28.8654 5.33317 28.2021 5.48175 27.2975L6.7841 19.3682L6.77374 19.3665C6.7785 19.309 6.77364 19.2463 6.75375 19.1808C6.7326 19.1112 6.69881 19.0529 6.65881 19.0053L6.66641 18.9979C6.66635 18.9978 6.6663 18.9977 6.66625 18.9977L1.14957 13.3823C0.528849 12.7504 0.395149 12.0259 0.572341 11.4569C0.748509 10.8912 1.25648 10.398 2.09909 10.2701L9.72266 9.11332C9.72283 9.1133 9.723 9.11327 9.72317 9.11325L9.72156 9.10263C9.78326 9.08838 9.84696 9.06127 9.90738 9.01606C9.96714 8.97134 10.0103 8.91897 10.0408 8.8658L10.0504 8.87034L13.46 1.65599C13.8472 0.836638 14.4581 0.499871 15.0002 0.5C15.5424 0.500129 16.1532 0.837318 16.5401 1.65599L19.9497 8.87033L19.9592 8.86582C19.9887 8.91715 20.0301 8.96788 20.0871 9.0118C20.1489 9.0594 20.2147 9.08784 20.2785 9.10258L20.2769 9.11325C20.2773 9.1133 20.2776 9.11335 20.2779 9.1134L27.901 10.2701C28.7443 10.3981 29.252 10.8915 29.4278 11.4572C29.6048 12.0264 29.4707 12.751 28.8505 13.3823L23.3337 18.9978L23.3413 19.0053C23.3026 19.0513 23.2696 19.1075 23.2483 19.1745C23.2268 19.242 23.2215 19.307 23.2264 19.3664L23.216 19.3682C23.2161 19.3686 23.2162 19.3691 23.2162 19.3696L24.5183 27.2975C24.667 28.2029 24.3605 28.8659 23.9096 29.2078C23.4643 29.5456 22.7873 29.6399 22.0291 29.2236L15.2103 25.4802C15.2102 25.4801 15.21 25.48 15.2099 25.4799Z"
                  stroke="#B4BCC5"/>
              </svg>
            </span>
            <span class="stars__item" [ngClass]="{'filled': business.userRating >= 3}" (click)="rate(3)">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15.2099 25.4799L15.2047 25.4893C15.1475 25.4635 15.0803 25.4461 15.0037 25.4456C14.9243 25.445 14.8546 25.4626 14.7954 25.4894L14.7902 25.4799L7.97102 29.2236C7.2122 29.6402 6.53537 29.5455 6.09024 29.2077C5.63937 28.8654 5.33317 28.2021 5.48175 27.2975L6.7841 19.3682L6.77374 19.3665C6.7785 19.309 6.77364 19.2463 6.75375 19.1808C6.7326 19.1112 6.69881 19.0529 6.65881 19.0053L6.66641 18.9979C6.66635 18.9978 6.6663 18.9977 6.66625 18.9977L1.14957 13.3823C0.528849 12.7504 0.395149 12.0259 0.572341 11.4569C0.748509 10.8912 1.25648 10.398 2.09909 10.2701L9.72266 9.11332C9.72283 9.1133 9.723 9.11327 9.72317 9.11325L9.72156 9.10263C9.78326 9.08838 9.84696 9.06127 9.90738 9.01606C9.96714 8.97134 10.0103 8.91897 10.0408 8.8658L10.0504 8.87034L13.46 1.65599C13.8472 0.836638 14.4581 0.499871 15.0002 0.5C15.5424 0.500129 16.1532 0.837318 16.5401 1.65599L19.9497 8.87033L19.9592 8.86582C19.9887 8.91715 20.0301 8.96788 20.0871 9.0118C20.1489 9.0594 20.2147 9.08784 20.2785 9.10258L20.2769 9.11325C20.2773 9.1133 20.2776 9.11335 20.2779 9.1134L27.901 10.2701C28.7443 10.3981 29.252 10.8915 29.4278 11.4572C29.6048 12.0264 29.4707 12.751 28.8505 13.3823L23.3337 18.9978L23.3413 19.0053C23.3026 19.0513 23.2696 19.1075 23.2483 19.1745C23.2268 19.242 23.2215 19.307 23.2264 19.3664L23.216 19.3682C23.2161 19.3686 23.2162 19.3691 23.2162 19.3696L24.5183 27.2975C24.667 28.2029 24.3605 28.8659 23.9096 29.2078C23.4643 29.5456 22.7873 29.6399 22.0291 29.2236L15.2103 25.4802C15.2102 25.4801 15.21 25.48 15.2099 25.4799Z"
                  stroke="#B4BCC5"/>
              </svg>
            </span>
            <span class="stars__item" [ngClass]="{'filled': business.userRating >= 4}" (click)="rate(4)">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15.2099 25.4799L15.2047 25.4893C15.1475 25.4635 15.0803 25.4461 15.0037 25.4456C14.9243 25.445 14.8546 25.4626 14.7954 25.4894L14.7902 25.4799L7.97102 29.2236C7.2122 29.6402 6.53537 29.5455 6.09024 29.2077C5.63937 28.8654 5.33317 28.2021 5.48175 27.2975L6.7841 19.3682L6.77374 19.3665C6.7785 19.309 6.77364 19.2463 6.75375 19.1808C6.7326 19.1112 6.69881 19.0529 6.65881 19.0053L6.66641 18.9979C6.66635 18.9978 6.6663 18.9977 6.66625 18.9977L1.14957 13.3823C0.528849 12.7504 0.395149 12.0259 0.572341 11.4569C0.748509 10.8912 1.25648 10.398 2.09909 10.2701L9.72266 9.11332C9.72283 9.1133 9.723 9.11327 9.72317 9.11325L9.72156 9.10263C9.78326 9.08838 9.84696 9.06127 9.90738 9.01606C9.96714 8.97134 10.0103 8.91897 10.0408 8.8658L10.0504 8.87034L13.46 1.65599C13.8472 0.836638 14.4581 0.499871 15.0002 0.5C15.5424 0.500129 16.1532 0.837318 16.5401 1.65599L19.9497 8.87033L19.9592 8.86582C19.9887 8.91715 20.0301 8.96788 20.0871 9.0118C20.1489 9.0594 20.2147 9.08784 20.2785 9.10258L20.2769 9.11325C20.2773 9.1133 20.2776 9.11335 20.2779 9.1134L27.901 10.2701C28.7443 10.3981 29.252 10.8915 29.4278 11.4572C29.6048 12.0264 29.4707 12.751 28.8505 13.3823L23.3337 18.9978L23.3413 19.0053C23.3026 19.0513 23.2696 19.1075 23.2483 19.1745C23.2268 19.242 23.2215 19.307 23.2264 19.3664L23.216 19.3682C23.2161 19.3686 23.2162 19.3691 23.2162 19.3696L24.5183 27.2975C24.667 28.2029 24.3605 28.8659 23.9096 29.2078C23.4643 29.5456 22.7873 29.6399 22.0291 29.2236L15.2103 25.4802C15.2102 25.4801 15.21 25.48 15.2099 25.4799Z"
                  stroke="#B4BCC5"/>
              </svg>
            </span>
            <span class="stars__item" [ngClass]="{'filled': business.userRating >= 5}" (click)="rate(5)">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M15.2099 25.4799L15.2047 25.4893C15.1475 25.4635 15.0803 25.4461 15.0037 25.4456C14.9243 25.445 14.8546 25.4626 14.7954 25.4894L14.7902 25.4799L7.97102 29.2236C7.2122 29.6402 6.53537 29.5455 6.09024 29.2077C5.63937 28.8654 5.33317 28.2021 5.48175 27.2975L6.7841 19.3682L6.77374 19.3665C6.7785 19.309 6.77364 19.2463 6.75375 19.1808C6.7326 19.1112 6.69881 19.0529 6.65881 19.0053L6.66641 18.9979C6.66635 18.9978 6.6663 18.9977 6.66625 18.9977L1.14957 13.3823C0.528849 12.7504 0.395149 12.0259 0.572341 11.4569C0.748509 10.8912 1.25648 10.398 2.09909 10.2701L9.72266 9.11332C9.72283 9.1133 9.723 9.11327 9.72317 9.11325L9.72156 9.10263C9.78326 9.08838 9.84696 9.06127 9.90738 9.01606C9.96714 8.97134 10.0103 8.91897 10.0408 8.8658L10.0504 8.87034L13.46 1.65599C13.8472 0.836638 14.4581 0.499871 15.0002 0.5C15.5424 0.500129 16.1532 0.837318 16.5401 1.65599L19.9497 8.87033L19.9592 8.86582C19.9887 8.91715 20.0301 8.96788 20.0871 9.0118C20.1489 9.0594 20.2147 9.08784 20.2785 9.10258L20.2769 9.11325C20.2773 9.1133 20.2776 9.11335 20.2779 9.1134L27.901 10.2701C28.7443 10.3981 29.252 10.8915 29.4278 11.4572C29.6048 12.0264 29.4707 12.751 28.8505 13.3823L23.3337 18.9978L23.3413 19.0053C23.3026 19.0513 23.2696 19.1075 23.2483 19.1745C23.2268 19.242 23.2215 19.307 23.2264 19.3664L23.216 19.3682C23.2161 19.3686 23.2162 19.3691 23.2162 19.3696L24.5183 27.2975C24.667 28.2029 24.3605 28.8659 23.9096 29.2078C23.4643 29.5456 22.7873 29.6399 22.0291 29.2236L15.2103 25.4802C15.2102 25.4801 15.21 25.48 15.2099 25.4799Z"
                  stroke="#B4BCC5"/>
              </svg>
            </span>
          </div>
        </div>
      </div>
      <div class="info-footer">
      </div>
    </div>
  </div>
</div>
